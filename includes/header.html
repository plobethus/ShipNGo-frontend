<!-- /ShipNGo-frontend/includes/header.html -->
<!-- This file contains the navigation header used across all ShipNGo pages.
     It dynamically displays the login status if a user is logged in. -->
<header>
  <nav>
    <a href="../index.html">
      <h1 class="navbar">ShipNGo</h1>
    </a>
    <ul>
      <li>
        <a href="#shipping">Shipping</a>
        <ul class="dropdown">
          <li><a href="../pages/create-shipment.html">Create a Shipment</a></li>
          <li><a href="../pages/pickups.html">Schedule &amp; Manage Pickups</a></li>
          <li><a href="../pages/returns.html">Manage a Return</a></li>
        </ul>
      </li>
      <li>
        <a href="#store">Store</a>
        <ul class="dropdown">
          <li><a href="../pages/store.html">Packing &amp; Shipping Supplies</a></li>
        </ul>
      </li>
      <li>
        <a href="#support">Support</a>
        <ul class="dropdown">
          <li><a href="../pages/faq.html">FAQ</a></li>
          <li><a href="../pages/claims.html">File a Claim</a></li>
          <li><a href="../pages/billing.html">Billing &amp; Invoicing</a></li>
        </ul>
      </li>
    </ul>
    <div class="login-status">
      <!-- This span displays the login status -->
      <span id="user-status">Guest</span>
      <button id="logout-btn" onclick="logout()" style="display: none;">Log Out</button>
    </div>
  </nav>
</header>
<script>
  // Update header based on sessionStorage login info
  document.addEventListener("DOMContentLoaded", function() {
    const role = sessionStorage.getItem("role");
    const name = sessionStorage.getItem("name");
    const userStatus = document.getElementById("user-status");
    const logoutBtn = document.getElementById("logout-btn");
    if (role && name) {
      userStatus.textContent = `Logged in as ${name} (${role})`;
      logoutBtn.style.display = "inline-block";
    } else {
      userStatus.textContent = "Guest";
      logoutBtn.style.display = "none";
    }
  });
  function logout() {
    sessionStorage.clear();
    window.location.href = "../pages/login.html";
  }
</script>
